var uk=uk||{};uk.co=uk.co||{};uk.co.darrenhurley=uk.co.darrenhurley||{};uk.co.darrenhurley.logger=uk.co.darrenhurley.logger||{};uk.co.darrenhurley.logger.JUnit=function(a){this.lineWriter=a||print;this.suites=[];this.tabSize=4;};uk.co.darrenhurley.logger.JUnit.prototype.startTestSuite=function(a){if(!a){throw"No suite supplied";}this.suites.push({name:a.name,tests:[]});};uk.co.darrenhurley.logger.JUnit.prototype.endTestSuite=function(b){if(!b){throw"No suite supplied";}var a=this.suites[this.suites.length-1];a.failed=b.failed;a.passed=b.passed;a.total=b.total;};uk.co.darrenhurley.logger.JUnit.prototype.startTest=function(a){if(!a){throw"No test supplied";}this.suites[this.suites.length-1].tests.push({name:a.name,assertions:[]});};uk.co.darrenhurley.logger.JUnit.prototype.endTest=function(a){if(!a){throw"No test supplied";}};uk.co.darrenhurley.logger.JUnit.prototype.addAssertion=function(a){if(!a){throw"No assertion supplied";}var b=this.suites[this.suites.length-1];b.tests[b.tests.length-1].assertions.push(a);};uk.co.darrenhurley.logger.JUnit.prototype.write=function(){this.lineWriter('<?xml version="1.0" encoding="UTF-8">');this.lineWriter("<testsuites>");for(var c in this.suites){var d=this.suites[c];this.lineWriter(new Array(this.tabSize+1).join(" ")+'<testsuite errors="0" failures="'+d.failed+'" name="'+d.name+'" tests="'+d.total+'">');for(j in d.tests){var e=d.tests[j];this.lineWriter(new Array((2*this.tabSize)+1).join(" ")+'<testcase name="'+e.name+'">');for(var b in e.assertions){var a=e.assertions[b];if(!a.result){this.lineWriter(new Array((3*this.tabSize)+1).join(" ")+'<failure message="'+a.message+'" type="failed" />');}}this.lineWriter(new Array((2*this.tabSize)+1).join(" ")+"</testcase>");}this.lineWriter(new Array(this.tabSize+1).join(" ")+"</testsuite>");}this.lineWriter("</testsuites>");};