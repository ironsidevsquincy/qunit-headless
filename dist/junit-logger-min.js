var uk=uk||{};uk.co=uk.co||{};uk.co.darrenhurley=uk.co.darrenhurley||{};uk.co.darrenhurley.logger=uk.co.darrenhurley.logger||{};uk.co.darrenhurley.logger.JUnit=function(a){this.lineWriter=a||print;this.suites={};this.currentSuite="";this.tabSize=4;};uk.co.darrenhurley.logger.JUnit.prototype.addSuite=function(a){if(!a){throw"No suite name supplied";}this.suites[a]={};this.currentSuite=a;};uk.co.darrenhurley.logger.JUnit.prototype.addTest=function(b,a,c){if(!b){throw"No test name supplied";}this.suites[this.currentSuite][b]={result:a,message:c};};uk.co.darrenhurley.logger.JUnit.prototype.write=function(){this.lineWriter('<?xml version="1.0" encoding="UTF-8">');this.lineWriter("<testsuites>");for(var e in this.suites){var d=this.suites[e],b=0,a=0,c=0;for(testName in d){a++;if(!d[testName].result){b++;}}this.lineWriter(new Array(this.tabSize).join(" ")+'<testsuite errors="0" failures="'+b+'" name="'+e+'" tests="'+a+'">');for(testName in d){var f=d[testName];if(f.result){this.lineWriter(new Array(2*this.tabSize).join(" ")+'<testcase name="'+testName+'" />');}else{this.lineWriter(new Array(2*this.tabSize).join(" ")+'<testcase name="'+testName+'">');this.lineWriter(new Array(3*this.tabSize).join(" ")+'<failure message="'+f.message+'" type="failed" />');this.lineWriter(new Array(2*this.tabSize).join(" ")+"</testcase>");}}this.lineWriter(new Array(this.tabSize).join(" ")+"</testsuite>");}this.lineWriter("</testsuites>");};